<!DOCTYPE html>

<html>
<head>
<meta charset="UTF-8">

<title>README - libxml-xslt</title>

<script type="text/javascript">
  var rdoc_rel_prefix = "./";
  var index_rel_prefix = "./";
</script>

<script src="./js/navigation.js" defer></script>
<script src="./js/search.js" defer></script>
<script src="./js/search_index.js" defer></script>
<script src="./js/searcher.js" defer></script>
<script src="./js/darkfish.js" defer></script>

<link href="./css/fonts.css" rel="stylesheet">
<link href="./css/rdoc.css" rel="stylesheet">




<body id="top" role="document" class="file">
<nav role="navigation">
  <div id="project-navigation">
    <div id="home-section" role="region" title="Quick navigation" class="nav-section">
  <h2>
    <a href="./index.html" rel="home">Home</a>
  </h2>

  <div id="table-of-contents-navigation">
    <a href="./table_of_contents.html#pages">Pages</a>
    <a href="./table_of_contents.html#classes">Classes</a>
    <a href="./table_of_contents.html#methods">Methods</a>
  </div>
</div>

    <div id="search-section" role="search" class="project-section initially-hidden">
  <form action="#" method="get" accept-charset="utf-8">
    <div id="search-field-wrapper">
      <input id="search-field" role="combobox" aria-label="Search"
             aria-autocomplete="list" aria-controls="search-results"
             type="text" name="search" placeholder="Search" spellcheck="false"
             title="Type to search, Up and Down to navigate, Enter to load">
    </div>

    <ul id="search-results" aria-label="Search Results"
        aria-busy="false" aria-expanded="false"
        aria-atomic="false" class="initially-hidden"></ul>
  </form>
</div>

  </div>

  
<div class="nav-section">
  <h3>Table of Contents</h3>

  <ul class="link-list" role="directory">
    <li><a href="#label-libxslt-ruby">libxslt-ruby</a>
    <li><a href="#label-Overview">Overview</a>
    <li><a href="#label-Requirements">Requirements</a>
    <li><a href="#label-INSTALLATION">INSTALLATION</a>
    <li><a href="#label-USAGE">USAGE</a>
    <li><a href="#label-License">License</a>
    <li><a href="#label-DOCUMENTATION">DOCUMENTATION</a>
    <li><a href="#label-MORE+INFORMATION">MORE INFORMATION</a>
  </ul>
</div>


  <div id="project-metadata">
    <div id="fileindex-section" class="nav-section">
  <h3>Pages</h3>

  <ul class="link-list">
  
    <li><a href="./CHANGES.html">CHANGES</a>
  
    <li><a href="./LICENSE.html">LICENSE</a>
  
    <li><a href="./README_rdoc.html">README</a>
  
  </ul>
</div>

  </div>
</nav>

<main role="main" aria-label="Page README.rdoc">

<h1 id="label-libxslt-ruby">libxslt-ruby<span><a href="#label-libxslt-ruby">&para;</a> <a href="#top">&uarr;</a></span></h1>

<h2 id="label-Overview">Overview<span><a href="#label-Overview">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The libxslt gem provides Ruby language bindings for GNOME&#39;s Libxslt toolkit. It is free software, released under the MIT License.</p>

<h2 id="label-Requirements">Requirements<span><a href="#label-Requirements">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>libxslt-ruby requires Ruby 1.8.4 or higher.  It is dependent on the following libraries to function properly:</p>
<ul><li>
<p>libm      (math routines: very standard)</p>
</li><li>
<p>libz      (zlib)</p>
</li><li>
<p>libiconv</p>
</li><li>
<p>libxml2</p>
</li><li>
<p>libxslt</p>
</li><li>
<p>libxml-ruby bindings</p>
</li></ul>

<p>If you are running Linux or Unix you&#39;ll need a C compiler so the extension can be compiled when it is installed.  If you are running Windows, then install the Windows specific RubyGem which includes an already built extension.</p>

<p>!!!NOTE!!!  The libxml-ruby and libxslt-ruby bindings must absolutely, positively, without a doubt share the same libxml2 library.  This is because libxslt modifies XML documents created by libxml2.  If there are two copies of libxml2 on your system, then when XML documents allocated in copy #1 are manipulated by copy #2, a segmentation fault will occur.  So make sure that your system has only one copy of libxml2 installed.</p>

<h2 id="label-INSTALLATION">INSTALLATION<span><a href="#label-INSTALLATION">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>The easiest way to install libxslt-ruby is via Ruby Gems.  To install:</p>

<p><code>gem install libxslt-ruby</code></p>

<p>If you are running Windows, make sure to install the Mingw64 RubyGem which includes an already built binary file.  The binary is built against libxml2 version 2.9.1, iconv version 1.14 and libxslt version 1.1.28. Binaries for libxml2 and iconv are provided in the libxml-ruby bindings, while binaries for libxslt and libexslt areprovided in the libxslt-ruby bindings.</p>

<p>Installation from source:</p>

<p>ruby ext/libxslt/extconf.rb make sudo make install</p>

<p>gem build libxslt-ruby.gemspec gem install libxslt-ruby-1.1.1.gem</p>

<h2 id="label-USAGE">USAGE<span><a href="#label-USAGE">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>For in-depth information about using libxslt-ruby please refer to its online Rdoc documentation.</p>

<p>All libxslt classes are in the <a href="LibXSLT/XSLT.html"><code>LibXSLT::XSLT</code></a> module. The simplest way to use libxslt is to require &#39;xslt&#39;.  This will mixin the LibXML and <a href="LibXSLT.html"><code>LibXSLT</code></a> modules into the global namespace, allowing you to write code like this:</p>

<p>require &#39;xslt&#39; document = XML::Document.new stylesheett = XSLT::Stylesheet.new(document)</p>

<p>If you prefer not to add the <a href="LibXSLT.html"><code>LibXSLT</code></a> module to the global namepace, then write your code like this:</p>

<p>require &#39;libxslt&#39;</p>

<p>class MyClass</p>

<pre class="ruby"><span class="ruby-keyword">def</span> <span class="ruby-identifier ruby-title">some_method</span>
  <span class="ruby-identifier">document</span> = <span class="ruby-constant">LibXML</span><span class="ruby-operator">::</span><span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">new</span>
  <span class="ruby-identifier">stylesheett</span> = <span class="ruby-constant">LibXSLT</span><span class="ruby-operator">::</span><span class="ruby-constant">XSLT</span><span class="ruby-operator">::</span><span class="ruby-constant">Stylesheet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">document</span>)
<span class="ruby-keyword">end</span>
</pre>

<p>end</p>

<p>Given an XML file like:</p>

<pre>&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;
&lt;?xml-stylesheet href=&quot;fuzface.xsl&quot; type=&quot;text/xsl&quot;?&gt;

&lt;commentary&gt;
  &lt;meta&gt;
    &lt;author&gt;
      &lt;first_name&gt;Sean&lt;/first_name&gt;
      &lt;last_name&gt;Chittenden&lt;/last_name&gt;
      &lt;email&gt;sean@chittenden.org&lt;/email&gt;
    &lt;/author&gt;
    &lt;version&gt;$Version$&lt;/version&gt;
    &lt;date&gt;$Date$&lt;/date&gt;
    &lt;id&gt;$Id$&lt;/id&gt;     &lt;title&gt;Fuzface...&lt;/title&gt;
    &lt;subtitle&gt;The Internet&#39;s a big place and here&#39;s some proof...&lt;/subtitle&gt;
  &lt;/meta&gt;

  &lt;body&gt;
    &lt;para&gt;
      I think it&#39;s a tragedy that I&#39;m going to start off my new
      commentary by talking about facial hair and the Internet.
      Something about that just screams pathetic, but whatever: it&#39;s
      humor and that&#39;s life.
    &lt;/para&gt;
  &lt;/body&gt;
&lt;/commentary&gt;</pre>

<p>And an <a href="XSLT.html"><code>XSLT</code></a> file like this:</p>

<pre>&lt;?xml version=&quot;1.0&quot; ?&gt;
&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; version=&quot;1.0&quot;&gt;
&lt;xsl:template match=&quot;/&quot;&gt;
  &lt;xsl:element name=&quot;html&quot;&gt;
    &lt;xsl:element name=&quot;head&quot;&gt;
      &lt;xsl:element name=&quot;title&quot;&gt;Ramblings - &lt;xsl:value-of select=&quot;commentary/meta/title&quot; /&gt; - &lt;xsl:value-of select=&quot;commentary/meta/subtitle&quot; /&gt;&lt;/xsl:element&gt;
    &lt;/xsl:element&gt;

    &lt;xsl:element name=&quot;body&quot;&gt;
      &lt;xsl:element name=&quot;h1&quot;&gt;&lt;xsl:value-of select=&quot;commentary/meta/title&quot; /&gt;&lt;/xsl:element&gt;
      &lt;xsl:element name=&quot;h3&quot;&gt;&lt;xsl:value-of select=&quot;commentary/meta/subtitle&quot; /&gt;&lt;/xsl:element&gt;
      By: &lt;xsl:value-of select=&quot;commentary/meta/author/first_name&quot; /&gt; &lt;xsl:value-of select=&quot;commentary/meta/author/last_name&quot; /&gt;&lt;xsl:element name=&quot;br&quot; /&gt;
      Date: &lt;xsl:value-of select=&quot;commentary/meta/date&quot; /&gt;&lt;xsl:element name=&quot;br&quot; /&gt;

      &lt;xsl:for-each select=&quot;./commentary/body&quot;&gt;
        &lt;xsl:apply-templates /&gt;
      &lt;/xsl:for-each&gt;

    &lt;/xsl:element&gt;
  &lt;/xsl:element&gt;
&lt;/xsl:template&gt;

&lt;xsl:template match=&quot;para&quot;&gt;
  &lt;xsl:element name=&quot;p&quot;&gt;
    &lt;xsl:value-of select=&quot;.&quot; /&gt;
  &lt;/xsl:element&gt;
&lt;/xsl:template&gt;
&lt;/xsl:stylesheet&gt;</pre>

<p>We can easily transform the XML with the following ruby code:</p>

<pre class="ruby"><span class="ruby-identifier">require</span> <span class="ruby-string">&#39;xslt&#39;</span>

<span class="ruby-comment"># Create a new XSL Transform</span>
<span class="ruby-identifier">stylesheet_doc</span> = <span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">file</span>(<span class="ruby-string">&#39;files/fuzface.xsl&#39;</span>)
<span class="ruby-identifier">stylesheet</span> = <span class="ruby-constant">LibXSLT</span><span class="ruby-operator">::</span><span class="ruby-constant">Stylesheet</span>.<span class="ruby-identifier">new</span>(<span class="ruby-identifier">stylesheet_doc</span>)

<span class="ruby-comment"># Transform a xml document</span>
<span class="ruby-identifier">xml_doc</span> = <span class="ruby-constant">XML</span><span class="ruby-operator">::</span><span class="ruby-constant">Document</span>.<span class="ruby-identifier">file</span>(<span class="ruby-string">&#39;files/fuzface.xml&#39;</span>)
<span class="ruby-identifier">result</span> = <span class="ruby-identifier">stylesheet</span>.<span class="ruby-identifier">apply</span>(<span class="ruby-identifier">xml_doc</span>)
</pre>

<p>You can then print, save or manipulate the returned document.</p>

<h2 id="label-License">License<span><a href="#label-License">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>See <a href="LICENSE.html">LICENSE</a> for license information.</p>

<h2 id="label-DOCUMENTATION">DOCUMENTATION<span><a href="#label-DOCUMENTATION">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>RDoc comments are included - run &#39;rake doc&#39; to generate documentation. You can find the latest documentation at:</p>
<ul><li>
<p><a href="http://libxsl.rubyforge.org">libxsl.rubyforge.org</a>/</p>
</li></ul>

<h2 id="label-MORE+INFORMATION">MORE INFORMATION<span><a href="#label-MORE+INFORMATION">&para;</a> <a href="#top">&uarr;</a></span></h2>

<p>For more information please refer to the documentation.  If you have any questions, please send email to libxml-devel@rubyforge.org.</p>

</main>



<footer id="validator-badges" role="contentinfo">
  <p><a href="https://validator.w3.org/check/referer">Validate</a>
  <p>Generated by <a href="https://ruby.github.io/rdoc/">RDoc</a> 6.2.1.
  <p>Based on <a href="http://deveiate.org/projects/Darkfish-RDoc/">Darkfish</a> by <a href="http://deveiate.org">Michael Granger</a>.
</footer>

